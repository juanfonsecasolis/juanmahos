File name: ports.cpp/ports.h<br /><br />
<hr />
<div style="text-align: center;"><strong><span style="font-size: medium;">Variables</span></strong><br /></div>
<hr />
extern unsigned char cycle;<br />extern char mouse_bytes[3];<br />extern byte mouse_cycle;&nbsp;&nbsp;&nbsp;&nbsp; //unsigned char<br />extern sbyte mouse_x;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //signed char<br />extern sbyte mouse_y;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //signed char<br /><br /> 
<hr />
<div style="text-align: center;"><strong><span style="font-size: medium;">Functions</span></strong><br /></div>
<hr />
<br />Effect: it does a delay of "segundos" seconds<br />Require: positive interger<br />***********************************************************************<br />void hacerRetardo(int segundos);<br /><br /><br />Effect: returna byte from the port "_port"<br />Require: a valid port<br />***********************************************************************<br />unsigned char in(unsigned short _port);<br /><br /><br />Effect: write the word&nbsp; "_data" to the port "_port"<br />Require: a valid port<br />***********************************************************************<br />void outw(unsigned short _port, unsigned short _data);<br /><br /><br />Effect: write the byte&nbsp; "_data" to the port "_port"<br />Require: a valid port<br />***********************************************************************<br />void out(unsigned short _port, unsigned char _data);<br /><br /><br />Effect: wait until the mouse is ready to send/recieve data<br />Require: an installed mouse<br />Credits: houbysoft, http://houbysoft.com/download/ps2mouse.html<br />***********************************************************************<br />void mouse_wait(unsigned char type);<br /><br /><br />Effect: send a command byte to the mouse<br />Require: an installed mouse<br />Credits: houbysoft, http://houbysoft.com/download/ps2mouse.html<br />***********************************************************************<br />void mouse_write(byte a_write);<br /><br /><br />Effect: turn on the mouse and its cpu interrupts, load the<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; default mouse options<br />Require: an installed mouse<br />Credits: houbysoft, http://houbysoft.com/download/ps2mouse.html<br />***********************************************************************<br />void mouse_install();<br /><br /><br />Effect: reads the "mouse_bytes" array and translate the moves<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttons: 1,2,3<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; moves: u(up),l(left),r(right),d(down)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4(down,left),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5(down,right),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6(up,left),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7(up,right)<br />Require: an installed mouse, the mouse_bytes and cycle<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; variables<br />***********************************************************************<br />char mouse_handler_char();<br /><br /><br />Effect: if the mouse buffer has an input return the output of<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the mouse_handler_char function<br />Require: <br />***********************************************************************<br />char mouse_read_char();<br /><br /><br />Effect: wait until the keyboard has a non empty buffer<br />Require: a keyboard installed<br />***********************************************************************<br />byte esperarClick();<br /><br /><br />Effect: if the keyboard buffer is not empty return a scancode<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; but if not it returns a 0<br />Require: a keyboard installed<br />***********************************************************************<br />unsigned char leerTecla();<br /><br /><br />Effect: return a+b<br />***********************************************************************<br />extern "C" short sumar(short a,short b);
